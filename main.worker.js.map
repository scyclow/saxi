{"version":3,"file":"main.worker.js","mappings":"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","sources":["webpack://saxi/./node_modules/optimize-paths/dist/index.js","webpack://saxi/./node_modules/optimize-paths/dist/knn.js","webpack://saxi/./node_modules/optimize-paths/dist/vec.js","webpack://saxi/./node_modules/rbush/rbush.min.js","webpack://saxi/./node_modules/tinyqueue/index.js","webpack://saxi/./src/vec.ts","webpack://saxi/./src/paper-size.ts","webpack://saxi/./src/planning.ts","webpack://saxi/./src/util.ts","webpack://saxi/./src/massager.ts","webpack://saxi/./src/background-planner.ts","webpack://saxi/webpack/bootstrap","webpack://saxi/webpack/runtime/define property getters","webpack://saxi/webpack/runtime/hasOwnProperty shorthand","webpack://saxi/webpack/runtime/make namespace object","webpack://saxi/./src/plan.worker.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reorder = exports.elideShorterThan = exports.merge = void 0;\nconst vec_1 = require(\"./vec\");\nconst knn_1 = require(\"./knn\");\nconst rbush_1 = __importDefault(require(\"rbush\"));\nfunction dropWhile(a, f) {\n    return a.slice(a.findIndex((x) => !f(x)));\n}\n/**\n * Joins adjacent pairs of pointLists where the first ends within tolerance of where the second begins.\n *\n * e.g. with tolerance >= 0.1,\n * `[[{x: 0, y: 0}, {x: 10, y: 0}], [{x: 10.1, y: 0}, {x: 20, y: 0}]]` becomes\n * `[[{x: 0, y: 0}, {x: 10, y: 0}, {x: 20, y: 0}]]`.\n *\n * @param pointLists List of paths to join\n * @param tolerance When the endpoints of adjacent paths are closer than this, they will be joined into one path.\n * @return The optimized path list.\n */\nfunction merge(pointLists, tolerance = 0.5) {\n    if (pointLists.length === 0)\n        return [];\n    const tol2 = tolerance * tolerance;\n    const pl = pointLists.slice();\n    const result = [pl.shift()];\n    while (pl.length) {\n        const l = result[result.length - 1];\n        const n = pl.shift();\n        const lp = l[l.length - 1];\n        const np = n[0];\n        // inline d = vlen2(vsub(lp, np))\n        const dx = lp.x - np.x;\n        const dy = lp.y - np.y;\n        const d = dx * dx + dy * dy;\n        if (d <= tol2) {\n            result[result.length - 1] = result[result.length - 1].concat(dropWhile(n, (v) => {\n                // inline d = vlen2(vsub(lp, v))\n                const dx = lp.x - v.x;\n                const dy = lp.y - v.y;\n                const d = dx * dx + dy * dy;\n                return d <= tol2;\n            }));\n        }\n        else {\n            result.push(n);\n        }\n    }\n    return result;\n}\nexports.merge = merge;\nfunction pathLength(pointList) {\n    if (pointList.length <= 1) {\n        return 0;\n    }\n    let length = 0;\n    let lastPoint = pointList[0];\n    for (let i = 1; i < pointList.length; i++) {\n        length += vec_1.vlen(vec_1.vsub(lastPoint, pointList[i]));\n        lastPoint = pointList[i];\n    }\n    return length;\n}\n/**\n * Filters out paths shorter than a certain length.\n *\n * @param pointLists List of paths to filter\n * @param minimumPathLength Paths whose length is less than this value will be filtered out.\n * @returns A new point list, with short paths excluded.\n */\nfunction elideShorterThan(pointLists, minimumPathLength) {\n    return pointLists.filter((pl) => pathLength(pl) >= minimumPathLength);\n}\nexports.elideShorterThan = elideShorterThan;\nfunction* range(lo, hi) {\n    for (let i = lo; i < hi; i++)\n        yield i;\n}\n/** Reorder paths greedily, attempting to minimize the amount of pen-up travel time. */\nfunction reorder(pointLists) {\n    if (pointLists.length === 0) {\n        return pointLists;\n    }\n    const pt = (i) => i % 2 === 0\n        ? pointLists[(i / 2) | 0][0]\n        : pointLists[(i / 2) | 0][pointLists[(i / 2) | 0].length - 1];\n    class PointRBush extends rbush_1.default {\n        toBBox(i) { const { x, y } = pt(i); return { minX: x, minY: y, maxX: x, maxY: y }; }\n        compareMinX(a, b) { return pt(a).x - pt(b).x; }\n        compareMinY(a, b) { return pt(a).y - pt(b).y; }\n    }\n    const tree = new PointRBush;\n    tree.load([...range(2, pointLists.length * 2)]);\n    const sortedPointLists = [];\n    sortedPointLists.push(pointLists[0]);\n    let cur = pt(1);\n    let n = pointLists.length * 2 - 2;\n    while (n) {\n        const [nn] = knn_1.knn(tree, cur.x, cur.y, 1);\n        const plId = (nn / 2) | 0;\n        tree.remove(plId * 2);\n        tree.remove(plId * 2 + 1);\n        sortedPointLists.push(nn % 2 === 0\n            ? pointLists[plId]\n            : pointLists[plId].slice().reverse());\n        // if nn points to the beginning of a path, next search is from end of the path\n        // if nn points to the end of a path, next search is from beginning of the path\n        cur = pt(nn % 2 === 0 ? nn + 1 : nn - 1);\n        n -= 2;\n    }\n    return sortedPointLists;\n}\nexports.reorder = reorder;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.knn = void 0;\nconst tinyqueue_1 = __importDefault(require(\"tinyqueue\"));\nfunction knn(tree, x, y, n, predicate, maxDistance) {\n    let node = tree.data, result = [], toBBox = tree.toBBox, i, child, dist, candidate;\n    let queue = new tinyqueue_1.default(undefined, compareDist);\n    while (node) {\n        for (i = 0; i < node.children.length; i++) {\n            child = node.children[i];\n            dist = boxDist(x, y, node.leaf ? toBBox(child) : child);\n            if (!maxDistance || dist <= maxDistance * maxDistance) {\n                queue.push({\n                    node: child,\n                    isItem: node.leaf,\n                    dist: dist\n                });\n            }\n        }\n        while (queue.length && queue.peek().isItem) {\n            candidate = queue.pop().node;\n            if (!predicate || predicate(candidate))\n                result.push(candidate);\n            if (n && result.length === n)\n                return result;\n        }\n        node = queue.pop();\n        if (node)\n            node = node.node;\n    }\n    return result;\n}\nexports.knn = knn;\nfunction compareDist(a, b) {\n    return a.dist - b.dist;\n}\nfunction boxDist(x, y, box) {\n    var dx = axisDist(x, box.minX, box.maxX), dy = axisDist(y, box.minY, box.maxY);\n    return dx * dx + dy * dy;\n}\nfunction axisDist(k, min, max) {\n    return k < min ? min - k : k <= max ? 0 : k - max;\n}\n//# sourceMappingURL=knn.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.vsub = exports.vlen = exports.vlen2 = void 0;\nfunction vlen2(a) {\n    return a.x * a.x + a.y * a.y;\n}\nexports.vlen2 = vlen2;\nfunction vlen(a) {\n    return Math.sqrt(vlen2(a));\n}\nexports.vlen = vlen;\nfunction vsub(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nexports.vsub = vsub;\n//# sourceMappingURL=vec.js.map","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n","\nexport default class TinyQueue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n","export function vlen2(a) {\n    return a.x * a.x + a.y * a.y;\n}\nexport function vlen(a) {\n    return Math.sqrt(vlen2(a));\n}\nexport function vsub(a, b) {\n    return { x: a.x - b.x, y: a.y - b.y };\n}\nexport function vmul(a, s) {\n    return { x: a.x * s, y: a.y * s };\n}\nexport function vnorm(a) {\n    return vmul(a, 1 / vlen(a));\n}\nexport function vadd(a, b) {\n    return { x: a.x + b.x, y: a.y + b.y };\n}\nexport function vdot(a, b) {\n    return a.x * b.x + a.y * b.y;\n}\nexport function vrot(v, c, a) {\n    if (a === 0)\n        return v;\n    const radians = (Math.PI / 180) * a, cos = Math.cos(radians), sin = Math.sin(radians), nx = cos * (v.x - c.x) - sin * (v.y - c.y) + c.x, ny = cos * (v.y - c.y) + sin * (v.x - c.x) + c.y;\n    return { x: nx, y: ny };\n}\n","import { vmul } from \"./vec\";\nfunction vround(v, digits = 2) {\n    return { x: Number(v.x.toFixed(digits)), y: Number(v.y.toFixed(digits)) };\n}\nclass PaperSize {\n    get landscape() {\n        return new PaperSize({\n            x: Math.max(this.size.x, this.size.y),\n            y: Math.min(this.size.x, this.size.y),\n        });\n    }\n    get portrait() {\n        return new PaperSize({\n            x: Math.min(this.size.x, this.size.y),\n            y: Math.max(this.size.x, this.size.y),\n        });\n    }\n    get isLandscape() {\n        return this.size.x === Math.max(this.size.x, this.size.y);\n    }\n    constructor(size) {\n        this.size = size;\n    }\n}\nPaperSize.standard = {\n    \"USDollar\": new PaperSize({ x: 148.45, y: 59.5 }),\n    \"USLetter\": new PaperSize(vround(vmul({ x: 8.5, y: 11 }, 25.4))),\n    \"USLegal\": new PaperSize(vround(vmul({ x: 8.5, y: 14 }, 25.4))),\n    \"ArchA\": new PaperSize(vround(vmul({ x: 9, y: 12 }, 25.4))),\n    \"A3\": new PaperSize({ x: 297, y: 420 }),\n    \"A4\": new PaperSize({ x: 210, y: 297 }),\n    \"A5\": new PaperSize({ x: 148, y: 210 }),\n    \"A6\": new PaperSize({ x: 105, y: 148 }),\n    \"6x8\": new PaperSize(vround(vmul({ x: 6, y: 8 }, 25.4))),\n    \"5x7\": new PaperSize(vround(vmul({ x: 5, y: 7 }, 25.4))),\n    \"11x14\": new PaperSize(vround(vmul({ x: 11, y: 14 }, 25.4))),\n};\nexport { PaperSize };\n","/**\n * Cribbed from https://github.com/fogleman/axi/blob/master/axi/planner.py\n */\nconst epsilon = 1e-9;\nimport { PaperSize } from \"./paper-size\";\nimport { vadd, vdot, vlen, vmul, vnorm, vsub } from \"./vec\";\nexport const defaultPlanOptions = {\n    penUpHeight: 50,\n    penDownHeight: 60,\n    pointJoinRadius: 0,\n    pathJoinRadius: 0.5,\n    paperSize: PaperSize.standard.ArchA.landscape,\n    marginMm: 20,\n    unitName: 'mm',\n    selectedGroupLayers: new Set(),\n    selectedStrokeLayers: new Set(),\n    layerMode: 'stroke',\n    penDownAcceleration: 200,\n    penDownMaxVelocity: 50,\n    penDownCorneringFactor: 0.127,\n    penUpAcceleration: 400,\n    penUpMaxVelocity: 200,\n    penDropDuration: 0.12,\n    penLiftDuration: 0.12,\n    sortPaths: true,\n    rotateDrawing: 0,\n    fitPage: true,\n    cropToMargins: true,\n    minimumPathLength: 0,\n};\nexport const Device = {\n    Axidraw: {\n        stepsPerMm: 5,\n        // Practical min/max that you might ever want the pen servo to go on the AxiDraw (v2)\n        // Units: 83ns resolution pwm output.\n        // Defaults: penup at 12000 (1ms), pendown at 16000 (1.33ms).\n        penServoMin: 7500,\n        penServoMax: 28000,\n        penPctToPos(pct) {\n            const t = pct / 100.0;\n            return Math.round(this.penServoMin * t + this.penServoMax * (1 - t));\n        }\n    }\n};\nexport const AxidrawFast = {\n    penDownProfile: {\n        acceleration: 200 * Device.Axidraw.stepsPerMm,\n        maximumVelocity: 50 * Device.Axidraw.stepsPerMm,\n        corneringFactor: 0.127 * Device.Axidraw.stepsPerMm\n    },\n    penUpProfile: {\n        acceleration: 400 * Device.Axidraw.stepsPerMm,\n        maximumVelocity: 200 * Device.Axidraw.stepsPerMm,\n        corneringFactor: 0\n    },\n    penUpPos: Device.Axidraw.penPctToPos(50),\n    penDownPos: Device.Axidraw.penPctToPos(60),\n    penDropDuration: 0.12,\n    penLiftDuration: 0.12,\n};\nexport class Block {\n    static deserialize(o) {\n        return new Block(o.accel, o.duration, o.vInitial, o.p1, o.p2);\n    }\n    constructor(accel, duration, vInitial, p1, p2) {\n        if (!(vInitial >= 0)) {\n            throw new Error(`vInitial must be >= 0, but was ${vInitial}`);\n        }\n        if (!(vInitial + accel * duration >= -epsilon)) {\n            throw new Error(`vFinal must be >= 0, but vInitial=${vInitial}, duration=${duration}, accel=${accel}`);\n        }\n        this.accel = accel;\n        this.duration = duration;\n        this.vInitial = vInitial;\n        this.p1 = p1;\n        this.p2 = p2;\n        this.distance = vlen(vsub(p1, p2));\n    }\n    get vFinal() { return Math.max(0, this.vInitial + this.accel * this.duration); }\n    instant(tU, dt = 0, ds = 0) {\n        const t = Math.max(0, Math.min(this.duration, tU));\n        const a = this.accel;\n        const v = this.vInitial + this.accel * t;\n        const s = Math.max(0, Math.min(this.distance, this.vInitial * t + a * t * t / 2));\n        const p = vadd(this.p1, vmul(vnorm(vsub(this.p2, this.p1)), s));\n        return { t: t + dt, p, s: s + ds, v, a };\n    }\n    serialize() {\n        return {\n            accel: this.accel,\n            duration: this.duration,\n            vInitial: this.vInitial,\n            p1: this.p1,\n            p2: this.p2,\n        };\n    }\n}\nexport class PenMotion {\n    static deserialize(o) {\n        return new PenMotion(o.initialPos, o.finalPos, o.duration);\n    }\n    constructor(initialPos, finalPos, duration) {\n        this.initialPos = initialPos;\n        this.finalPos = finalPos;\n        this.pDuration = duration;\n    }\n    duration() {\n        return this.pDuration;\n    }\n    serialize() {\n        return {\n            t: \"PenMotion\",\n            initialPos: this.initialPos,\n            finalPos: this.finalPos,\n            duration: this.pDuration,\n        };\n    }\n}\nfunction scanLeft(a, z, op) {\n    const b = [];\n    let acc = z;\n    b.push(acc);\n    for (const x of a) {\n        acc = op(acc, x);\n        b.push(acc);\n    }\n    return b;\n}\nfunction sortedIndex(array, obj) {\n    let low = 0;\n    let high = array.length;\n    while (low < high) {\n        const mid = Math.floor((low + high) / 2);\n        if (array[mid] < obj) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nexport class XYMotion {\n    static deserialize(o) {\n        return new XYMotion(o.blocks.map(Block.deserialize));\n    }\n    constructor(blocks) {\n        this.blocks = blocks;\n        this.ts = scanLeft(blocks.map((b) => b.duration), 0, (a, b) => a + b).slice(0, -1);\n        this.ss = scanLeft(blocks.map((b) => b.distance), 0, (a, b) => a + b).slice(0, -1);\n    }\n    get p1() {\n        return this.blocks[0].p1;\n    }\n    get p2() {\n        return this.blocks[this.blocks.length - 1].p2;\n    }\n    duration() {\n        return this.blocks.map((b) => b.duration).reduce((a, b) => a + b, 0);\n    }\n    instant(t) {\n        const idx = sortedIndex(this.ts, t);\n        const blockIdx = this.ts[idx] === t ? idx : idx - 1;\n        const block = this.blocks[blockIdx];\n        return block.instant(t - this.ts[blockIdx], this.ts[blockIdx], this.ss[blockIdx]);\n    }\n    serialize() {\n        return {\n            t: \"XYMotion\",\n            blocks: this.blocks.map((b) => b.serialize())\n        };\n    }\n}\nexport class Plan {\n    static deserialize(o) {\n        return new Plan(o.motions.map((m) => {\n            switch (m.t) {\n                case \"XYMotion\": return XYMotion.deserialize(m);\n                case \"PenMotion\": return PenMotion.deserialize(m);\n            }\n        }));\n    }\n    constructor(motions) {\n        this.motions = motions;\n    }\n    duration(start = 0) {\n        return this.motions.slice(start).map((m) => m.duration()).reduce((a, b) => a + b, 0);\n    }\n    motion(i) { return this.motions[i]; }\n    withPenHeights(penUpHeight, penDownHeight) {\n        let penMotionIndex = 0;\n        return new Plan(this.motions.map((motion, j) => {\n            if (motion instanceof XYMotion) {\n                return motion;\n            }\n            else if (motion instanceof PenMotion) {\n                // Uuuugh this is really hacky. We should instead store the\n                // pen-up/pen-down heights in a single place and reference them from\n                // the PenMotions. Then we can change them in just one place.\n                if (j === this.motions.length - 3) {\n                    return new PenMotion(penDownHeight, Device.Axidraw.penPctToPos(0), motion.duration());\n                }\n                else if (j === this.motions.length - 1) {\n                    return new PenMotion(Device.Axidraw.penPctToPos(0), penUpHeight, motion.duration());\n                }\n                return (penMotionIndex++ % 2 === 0\n                    ? new PenMotion(penUpHeight, penDownHeight, motion.duration())\n                    : new PenMotion(penDownHeight, penUpHeight, motion.duration()));\n            }\n        }));\n    }\n    serialize() {\n        return {\n            motions: this.motions.map((m) => m.serialize())\n        };\n    }\n}\nclass Segment {\n    constructor(p1, p2) {\n        this.maxEntryVelocity = 0;\n        this.entryVelocity = 0;\n        this.p1 = p1;\n        this.p2 = p2;\n        this.blocks = [];\n    }\n    length() { return vlen(vsub(this.p2, this.p1)); }\n    direction() { return vnorm(vsub(this.p2, this.p1)); }\n}\nfunction cornerVelocity(seg1, seg2, vMax, accel, cornerFactor) {\n    // https://onehossshay.wordpress.com/2011/09/24/improving_grbl_cornering_algorithm/\n    const cosine = -vdot(seg1.direction(), seg2.direction());\n    // assert(!cosine.isNaN, s\"cosine was NaN: $seg1, $seg2, ${seg1.direction}, ${seg2.direction}\")\n    if (Math.abs(cosine - 1) < epsilon) {\n        return 0;\n    }\n    const sine = Math.sqrt((1 - cosine) / 2);\n    if (Math.abs(sine - 1) < epsilon) {\n        return vMax;\n    }\n    const v = Math.sqrt((accel * cornerFactor * sine) / (1 - sine));\n    // assert(!v.isNaN, s\"v was NaN: $accel, $cornerFactor, $sine\")\n    return Math.min(v, vMax);\n}\n/** Compute a triangular velocity profile with piecewise constant acceleration.\n *\n * The maximum velocity is derived from the acceleration and the distance to be travelled.\n *\n * @param distance Distance to travel (equal to |p3-p1|).\n * @param initialVel Starting velocity, unit length per unit time.\n * @param finalVel Final velocity, unit length per unit time.\n * @param accel Magnitude of acceleration, unit length per unit time per unit time.\n * @param p1 Starting point.\n * @param p3 Ending point.\n * @return\n */\nfunction computeTriangle(distance, initialVel, finalVel, accel, p1, p3) {\n    const acceleratingDistance = (2 * accel * distance + finalVel * finalVel - initialVel * initialVel) / (4 * accel);\n    const deceleratingDistance = distance - acceleratingDistance;\n    const vMax = Math.sqrt(initialVel * initialVel + 2 * accel * acceleratingDistance);\n    const t1 = (vMax - initialVel) / accel;\n    const t2 = (finalVel - vMax) / -accel;\n    const p2 = vadd(p1, vmul(vnorm(vsub(p3, p1)), acceleratingDistance));\n    return { s1: acceleratingDistance, s2: deceleratingDistance, t1, t2, vMax, p1, p2, p3 };\n}\nfunction computeTrapezoid(distance, initialVel, maxVel, finalVel, accel, p1, p4) {\n    const t1 = (maxVel - initialVel) / accel;\n    const s1 = (maxVel + initialVel) / 2 * t1;\n    const t3 = (finalVel - maxVel) / -accel;\n    const s3 = (finalVel + maxVel) / 2 * t3;\n    const s2 = distance - s1 - s3;\n    const t2 = s2 / maxVel;\n    const dir = vnorm(vsub(p4, p1));\n    const p2 = vadd(p1, vmul(dir, s1));\n    const p3 = vadd(p1, vmul(dir, (distance - s3)));\n    return { s1, s2, s3, t1, t2, t3, p1, p2, p3, p4 };\n}\nfunction dedupPoints(points, epsilon) {\n    if (epsilon === 0) {\n        return points;\n    }\n    const dedupedPoints = [];\n    dedupedPoints.push(points[0]);\n    for (const p of points.slice(1)) {\n        if (vlen(vsub(p, dedupedPoints[dedupedPoints.length - 1])) > epsilon) {\n            dedupedPoints.push(p);\n        }\n    }\n    return dedupedPoints;\n}\n/**\n * Plan a path, using a constant acceleration profile.\n * This function plans only a single x/y motion of the tool,\n * i.e. between a single pen-down/pen-up pair.\n *\n * @param points Sequence of points to pass through\n * @param profile Tooling profile to use\n * @return A plan of action\n */\nfunction constantAccelerationPlan(points, profile) {\n    const dedupedPoints = dedupPoints(points, epsilon);\n    if (dedupedPoints.length === 1) {\n        return new XYMotion([new Block(0, 0, 0, dedupedPoints[0], dedupedPoints[0])]);\n    }\n    const segments = dedupedPoints.slice(1).map((a, i) => new Segment(dedupedPoints[i], a));\n    const accel = profile.acceleration;\n    const vMax = profile.maximumVelocity;\n    const cornerFactor = profile.corneringFactor;\n    // Calculate the maximum entry velocity for each segment based on the angle between it\n    // and the previous segment.\n    segments.slice(1).forEach((seg2, i) => {\n        const seg1 = segments[i];\n        seg2.maxEntryVelocity = cornerVelocity(seg1, seg2, vMax, accel, cornerFactor);\n    });\n    // This is to force the velocity to zero at the end of the path.\n    const lastPoint = dedupedPoints[dedupedPoints.length - 1];\n    segments.push(new Segment(lastPoint, lastPoint));\n    let i = 0;\n    while (i < segments.length - 1) {\n        const segment = segments[i];\n        const nextSegment = segments[i + 1];\n        const distance = segment.length();\n        const vInitial = segment.entryVelocity;\n        const vExit = nextSegment.maxEntryVelocity;\n        const p1 = segment.p1;\n        const p2 = segment.p2;\n        const m = computeTriangle(distance, vInitial, vExit, accel, p1, p2);\n        if (m.s1 < -epsilon) {\n            // We'd have to start decelerating _before we started on this segment_. backtrack.\n            // In order enter this segment slow enough to be leaving it at vExit, we need to\n            // compute a maximum entry velocity s.t. we can slow down in the distance we have.\n            // TODO: verify this equation.\n            segment.maxEntryVelocity = Math.sqrt(vExit * vExit + 2 * accel * distance);\n            i -= 1;\n        }\n        else if (m.s2 <= 0) {\n            // No deceleration.\n            // TODO: shouldn't we check vMax here and maybe do trapezoid? should the next case below come first?\n            const vFinal = Math.sqrt(vInitial * vInitial + 2 * accel * distance);\n            const t = (vFinal - vInitial) / accel;\n            segment.blocks = [\n                new Block(accel, t, vInitial, p1, p2)\n            ];\n            nextSegment.entryVelocity = vFinal;\n            i += 1;\n        }\n        else if (m.vMax > vMax) {\n            // Triangle profile would exceed maximum velocity, so top out at vMax.\n            const z = computeTrapezoid(distance, vInitial, vMax, vExit, accel, p1, p2);\n            segment.blocks = [\n                new Block(accel, z.t1, vInitial, z.p1, z.p2),\n                new Block(0, z.t2, vMax, z.p2, z.p3),\n                new Block(-accel, z.t3, vMax, z.p3, z.p4)\n            ];\n            nextSegment.entryVelocity = vExit;\n            i += 1;\n        }\n        else {\n            // Accelerate, then decelerate.\n            segment.blocks = [\n                new Block(accel, m.t1, vInitial, m.p1, m.p2),\n                new Block(-accel, m.t2, m.vMax, m.p2, m.p3)\n            ];\n            nextSegment.entryVelocity = vExit;\n            i += 1;\n        }\n    }\n    const blocks = [];\n    segments.forEach((s) => {\n        s.blocks.forEach((b) => {\n            if (b.duration > epsilon) {\n                blocks.push(b);\n            }\n        });\n    });\n    return new XYMotion(blocks);\n}\nexport function plan(paths, profile) {\n    const motions = [];\n    let curPos = { x: 0, y: 0 };\n    const penMaxUpPos = profile.penUpPos < profile.penDownPos ? 100 : 0;\n    // for each path: move to the initial point, put the pen down, draw the path,\n    // then pick the pen up.\n    paths.forEach((p, i) => {\n        const m = constantAccelerationPlan(p, profile.penDownProfile);\n        const penUpPos = i === paths.length - 1 ? Device.Axidraw.penPctToPos(penMaxUpPos) : profile.penUpPos;\n        motions.push(constantAccelerationPlan([curPos, m.p1], profile.penUpProfile), new PenMotion(profile.penUpPos, profile.penDownPos, profile.penDropDuration), m, new PenMotion(profile.penDownPos, penUpPos, profile.penLiftDuration));\n        curPos = m.p2;\n    });\n    // finally, move back to (0, 0).\n    motions.push(constantAccelerationPlan([curPos, { x: 0, y: 0 }], profile.penUpProfile));\n    motions.push(new PenMotion(Device.Axidraw.penPctToPos(penMaxUpPos), profile.penUpPos, profile.penDropDuration));\n    return new Plan(motions);\n}\n","import { vadd, vlen2, vmul, vsub } from \"./vec\";\n/** Format a smallish duration in 2h30m15s form */\nexport function formatDuration(seconds) {\n    const hours = Math.floor(seconds / 60 / 60);\n    const mins = Math.floor((seconds - hours * 60 * 60) / 60);\n    const secs = Math.floor(seconds - hours * 60 * 60 - mins * 60);\n    const parts = [\n        [hours, \"h\"],\n        [mins, \"m\"],\n        [secs, \"s\"]\n    ];\n    return parts.slice(parts.findIndex((x) => x[0] !== 0)).map(([v, u]) => `${v}${u}`).join(\"\");\n}\n/** Return the top-left and bottom-right corners of the bounding box containing all points in pointLists */\nfunction extent(pointLists) {\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    let minX = Infinity;\n    let minY = Infinity;\n    for (const pl of pointLists) {\n        for (const p of pl) {\n            if (p.x > maxX) {\n                maxX = p.x;\n            }\n            if (p.y > maxY) {\n                maxY = p.y;\n            }\n            if (p.x < minX) {\n                minX = p.x;\n            }\n            if (p.y < minY) {\n                minY = p.y;\n            }\n        }\n    }\n    return [{ x: minX, y: minY }, { x: maxX, y: maxY }];\n}\n/**\n * Scale pointLists to fit within the bounding box specified by (targetMin, targetMax).\n *\n * Preserves aspect ratio, scaling as little as possible to completely fit within the box.\n *\n * Also centers the paths within the box.\n */\nfunction scaleToFit(pointLists, targetMin, targetMax) {\n    const [min, max] = extent(pointLists);\n    const availWidthMm = targetMax.x - targetMin.x;\n    const availHeightMm = targetMax.y - targetMin.y;\n    const scaleFitX = availWidthMm / (max.x - min.x);\n    const scaleFitY = availHeightMm / (max.y - min.y);\n    const scale = Math.min(scaleFitX, scaleFitY);\n    const targetCenter = vadd(targetMin, vmul(vsub(targetMax, targetMin), 0.5));\n    const offset = vsub(targetCenter, vmul(vsub(max, min), scale * 0.5));\n    return pointLists.map((pl) => pl.map((p) => vadd(vmul(vsub(p, min), scale), offset)));\n}\n/** Scale a drawing to fill a piece of paper, with the given size and margins. */\nexport function scaleToPaper(pointLists, paperSize, marginMm) {\n    return scaleToFit(pointLists, { x: marginMm, y: marginMm }, vsub(paperSize.size, { x: marginMm, y: marginMm }));\n}\n/**\n * Liang-Barsky algorithm for computing segment-AABB intersection.\n * https://gist.github.com/ChickenProp/3194723\n */\nfunction liangBarsky(aabb, seg) {\n    const [lower, upper] = aabb;\n    const [a, b] = seg;\n    const delta = vsub(b, a);\n    const p = [-delta.x, delta.x, -delta.y, delta.y];\n    const q = [a.x - lower.x, upper.x - a.x, a.y - lower.y, upper.y - a.y];\n    let u1 = -Infinity;\n    let u2 = Infinity;\n    for (let i = 0; i < 4; i++) {\n        if (p[i] == 0) {\n            if (q[i] < 0)\n                return null;\n        }\n        else {\n            const t = q[i] / p[i];\n            if (p[i] < 0 && u1 < t)\n                u1 = t;\n            else if (p[i] > 0 && u2 > t)\n                u2 = t;\n        }\n    }\n    if (u1 > u2 || u1 > 1 || u1 < 0)\n        return null;\n    return vadd(a, vmul(delta, u1));\n}\n/**\n * Returns true if aabb contains point (edge-inclusive).\n */\nfunction contains(aabb, point) {\n    const [lower, upper] = aabb;\n    return point.x >= lower.x && point.x <= upper.x && point.y >= lower.y && point.y <= upper.y;\n}\n/**\n * Returns a segment that is the subset of seg which is completely contained\n * within aabb, or null if seg is outside aabb.\n */\nfunction truncate(aabb, seg) {\n    const [a, b] = seg;\n    const containsA = contains(aabb, a);\n    const containsB = contains(aabb, b);\n    if (containsA && containsB)\n        return seg;\n    if (containsA && !containsB)\n        return [seg[0], liangBarsky(aabb, [seg[1], seg[0]])];\n    if (!containsA && containsB)\n        return [liangBarsky(aabb, seg), seg[1]];\n    const forwards = liangBarsky(aabb, seg);\n    const backwards = liangBarsky(aabb, [seg[1], seg[0]]);\n    return forwards && backwards ? [forwards, backwards] : null;\n}\n/**\n * Given a polyline, returns a list of polylines that form a subset of the\n * input polyline that is completely within aabb.\n */\nfunction cropLineToAabb(pointList, aabb) {\n    const truncatedPointLists = [];\n    let currentPointList = null;\n    for (let i = 1; i < pointList.length; i++) {\n        const [a, b] = [pointList[i - 1], pointList[i]];\n        const truncated = truncate(aabb, [a, b]);\n        if (truncated) {\n            if (!currentPointList) {\n                currentPointList = [truncated[0]];\n                truncatedPointLists.push(currentPointList);\n            }\n            currentPointList.push(truncated[1]);\n            if (truncated[1] !== b) {\n                // the end was truncated, record the end point and end the line\n                currentPointList = null;\n            }\n        }\n        else {\n            // the segment was entirely outside the aabb, end the line if there was one.\n            currentPointList = null;\n        }\n    }\n    return truncatedPointLists;\n}\n/**\n * Crops a drawing so it is kept entirely within the given margin.\n */\nexport function cropToMargins(pointLists, paperSize, marginMm) {\n    const pageAabb = [{ x: 0, y: 0 }, paperSize.size];\n    const margin = { x: marginMm, y: marginMm };\n    const insetAabb = [vadd(pageAabb[0], margin), vsub(pageAabb[1], margin)];\n    const truncatedPointLists = [];\n    for (const pointList of pointLists) {\n        for (const croppedLine of cropLineToAabb(pointList, insetAabb)) {\n            truncatedPointLists.push(croppedLine);\n        }\n    }\n    return truncatedPointLists;\n}\nexport function dedupPoints(points, epsilon) {\n    if (epsilon === 0) {\n        return points;\n    }\n    const dedupedPoints = [points[0]];\n    const epsilon2 = epsilon * epsilon;\n    for (const p of points.slice(1)) {\n        if (vlen2(vsub(p, dedupedPoints[dedupedPoints.length - 1])) > epsilon2) {\n            dedupedPoints.push(p);\n        }\n    }\n    return dedupedPoints;\n}\n","import * as Optimization from \"optimize-paths\";\nimport * as Planning from \"./planning\";\nimport { Device } from \"./planning\";\nimport { dedupPoints, scaleToPaper, cropToMargins } from \"./util\";\nimport { vmul, vrot } from \"./vec\";\n// CSS, and thus SVG, defines 1px = 1/96th of 1in\n// https://www.w3.org/TR/css-values-4/#absolute-lengths\nconst svgUnitsPerInch = 96;\nconst mmPerInch = 25.4;\nconst mmPerSvgUnit = mmPerInch / svgUnitsPerInch;\nexport function replan(inPaths, planOptions) {\n    let paths = inPaths;\n    // Rotate drawing around center of paper to handle plotting portrait drawings\n    // along y-axis of plotter\n    // Rotate around the center of the page, but in SvgUnits (not mm)\n    if (planOptions.rotateDrawing !== 0) {\n        console.time(\"rotating paths\");\n        paths = paths.map((pl) => pl.map((p) => vrot(p, vmul({ x: planOptions.paperSize.size.x / 2, y: planOptions.paperSize.size.y / 2 }, 1 / mmPerSvgUnit), planOptions.rotateDrawing)));\n        console.timeEnd(\"rotating paths\");\n    }\n    // Compute scaling using _all_ the paths, so it's the same no matter what\n    // layers are selected.\n    if (planOptions.fitPage) {\n        paths = scaleToPaper(paths, planOptions.paperSize, planOptions.marginMm);\n    }\n    else {\n        paths = paths.map(ps => ps.map(p => vmul(p, mmPerSvgUnit)));\n        if (planOptions.cropToMargins) {\n            paths = cropToMargins(paths, planOptions.paperSize, planOptions.marginMm);\n        }\n    }\n    // Rescaling loses the stroke info, so refer back to the original paths to\n    // filter based on the stroke. Rescaling doesn't change the number or order\n    // of the paths.\n    if (planOptions.layerMode === 'group') {\n        paths = paths.filter((path, i) => planOptions.selectedGroupLayers.has(inPaths[i].groupId));\n    }\n    else if (planOptions.layerMode === 'stroke') {\n        paths = paths.filter((path, i) => planOptions.selectedStrokeLayers.has(inPaths[i].stroke));\n    }\n    if (planOptions.pointJoinRadius > 0) {\n        paths = paths.map((p) => dedupPoints(p, planOptions.pointJoinRadius));\n    }\n    if (planOptions.sortPaths) {\n        console.time(\"sorting paths\");\n        paths = Optimization.reorder(paths);\n        console.timeEnd(\"sorting paths\");\n    }\n    if (planOptions.minimumPathLength > 0) {\n        console.time(\"eliding short paths\");\n        paths = Optimization.elideShorterThan(paths, planOptions.minimumPathLength);\n        console.timeEnd(\"eliding short paths\");\n    }\n    if (planOptions.pathJoinRadius > 0) {\n        console.time(\"joining nearby paths\");\n        paths = Optimization.merge(paths, planOptions.pathJoinRadius);\n        console.timeEnd(\"joining nearby paths\");\n    }\n    // Convert the paths to units of \"steps\".\n    paths = paths.map((ps) => ps.map((p) => vmul(p, Device.Axidraw.stepsPerMm)));\n    // And finally, motion planning.\n    console.time(\"planning pen motions\");\n    const plan = Planning.plan(paths, {\n        penUpPos: Device.Axidraw.penPctToPos(planOptions.penUpHeight),\n        penDownPos: Device.Axidraw.penPctToPos(planOptions.penDownHeight),\n        penDownProfile: {\n            acceleration: planOptions.penDownAcceleration * Device.Axidraw.stepsPerMm,\n            maximumVelocity: planOptions.penDownMaxVelocity * Device.Axidraw.stepsPerMm,\n            corneringFactor: planOptions.penDownCorneringFactor * Device.Axidraw.stepsPerMm,\n        },\n        penUpProfile: {\n            acceleration: planOptions.penUpAcceleration * Device.Axidraw.stepsPerMm,\n            maximumVelocity: planOptions.penUpMaxVelocity * Device.Axidraw.stepsPerMm,\n            corneringFactor: 0,\n        },\n        penDropDuration: planOptions.penDropDuration,\n        penLiftDuration: planOptions.penLiftDuration,\n    });\n    console.timeEnd(\"planning pen motions\");\n    return plan;\n}\n","import { replan } from './massager';\nself.addEventListener(\"message\", (m) => {\n    const { paths, planOptions } = m.data;\n    const plan = replan(paths, planOptions);\n    console.time(\"serializing\");\n    const serialized = plan.serialize();\n    console.timeEnd(\"serializing\");\n    self.postMessage(serialized);\n});\nexport default {};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","require(\"./background-planner\");\n"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","reorder","elideShorterThan","merge","vec_1","knn_1","rbush_1","dropWhile","a","f","slice","findIndex","x","range","lo","hi","i","pointLists","tolerance","length","tol2","pl","result","shift","l","n","lp","np","dx","dy","y","concat","v","push","minimumPathLength","filter","pointList","lastPoint","vlen","vsub","pathLength","pt","PointRBush","default","toBBox","minX","minY","maxX","maxY","compareMinX","b","compareMinY","tree","load","sortedPointLists","cur","nn","knn","plId","remove","reverse","tinyqueue_1","compareDist","dist","boxDist","box","axisDist","k","min","max","predicate","maxDistance","child","candidate","node","data","queue","undefined","children","leaf","isItem","peek","pop","vlen2","Math","sqrt","module","t","r","e","h","o","s","log","exp","u","floor","p","d","_maxEntries","_minEntries","ceil","clear","indexOf","m","c","height","prototype","all","_all","search","collides","insert","_build","_splitRoot","_insert","splice","_condense","toJSON","fromJSON","apply","pow","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","M","_allDistMargin","sort","TinyQueue","constructor","compare","defaultCompare","_down","item","_up","top","bottom","pos","parent","current","halfLength","left","best","right","vmul","vnorm","vadd","vround","digits","Number","toFixed","PaperSize","landscape","size","portrait","isLandscape","standard","epsilon","Device","ArchA","Set","Axidraw","stepsPerMm","penServoMin","penServoMax","penPctToPos","pct","round","Block","static","accel","duration","vInitial","p1","p2","Error","distance","vFinal","instant","tU","dt","ds","serialize","PenMotion","initialPos","finalPos","pDuration","scanLeft","z","op","acc","XYMotion","blocks","map","deserialize","ts","ss","reduce","idx","array","obj","low","high","mid","sortedIndex","blockIdx","Plan","motions","start","motion","withPenHeights","penUpHeight","penDownHeight","penMotionIndex","j","Segment","maxEntryVelocity","entryVelocity","direction","computeTriangle","initialVel","finalVel","p3","acceleratingDistance","deceleratingDistance","vMax","s1","s2","t1","t2","computeTrapezoid","maxVel","p4","t3","s3","dir","constantAccelerationPlan","points","profile","dedupedPoints","dedupPoints","segments","acceleration","maximumVelocity","cornerFactor","corneringFactor","forEach","seg2","seg1","cosine","abs","sine","cornerVelocity","segment","nextSegment","vExit","liangBarsky","aabb","seg","lower","upper","delta","q","u1","u2","Infinity","contains","point","truncate","containsA","containsB","forwards","backwards","cropLineToAabb","truncatedPointLists","currentPointList","truncated","mmPerSvgUnit","replan","inPaths","planOptions","paths","paperSize","marginMm","rotateDrawing","console","time","radians","PI","cos","sin","vrot","timeEnd","fitPage","targetMin","targetMax","extent","availWidthMm","availHeightMm","scaleFitX","scaleFitY","scale","targetCenter","offset","scaleToFit","ps","cropToMargins","pageAabb","margin","insetAabb","croppedLine","layerMode","path","selectedGroupLayers","has","groupId","selectedStrokeLayers","stroke","pointJoinRadius","epsilon2","sortPaths","pathJoinRadius","plan","curPos","penMaxUpPos","penUpPos","penDownPos","penDownProfile","penUpProfile","penDropDuration","penLiftDuration","penDownAcceleration","penDownMaxVelocity","penDownCorneringFactor","penUpAcceleration","penUpMaxVelocity","self","addEventListener","serialized","postMessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","definition","key","enumerable","get","prop","hasOwnProperty","Symbol","toStringTag"],"sourceRoot":""}